<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IQ Booster Quiz</title>
  <style>
    :root {
      --main-bg: #f9fafb;
      --card-bg: #ffffff;
      --accent: #4f46e5;
      --text-main: #111827;
      --text-light: #6b7280;
      --correct: #10b981;
      --wrong: #ef4444;
    }

  body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0;
  padding: 0;
  min-height: 100vh;
  background: linear-gradient(135deg, #f9d423 0%, #ff4e50 100%);
  color: var(--text-main);
  display: flex;
  justify-content: center;
  align-items: center;
}

.container {
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(6px);
  padding: 2rem;
  border-radius: 1.5rem;
  box-shadow: 0 10px 32px rgba(44, 62, 80, 0.18);
  width: 95%;
  max-width: 600px;
  animation: fadeIn 0.5s ease-in-out;
}

    h1, h2, h3 {
      text-align: center;
      color: var(--accent);
    }

    input[type="text"] {
      width: 100%;
      padding: 0.75rem;
      border-radius: 0.5rem;
      border: 1px solid #ddd;
      margin-bottom: 1rem;
      font-size: 1rem;
    }

button {
  padding: 0.75rem 1.5rem;
  font-size: 1rem;
  border: none;
  border-radius: 0.5rem;
  background: linear-gradient(90deg, #4f46e5 60%, #10b981 100%);
  color: white;
  cursor: pointer;
  transition: background 0.2s, transform 0.2s, box-shadow 0.2s;
  margin-top: 1rem;
  box-shadow: 0 2px 8px rgba(44, 62, 80, 0.08);
}
button:hover, button:focus {
  background: linear-gradient(90deg, #4338ca 60%, #059669 100%);
  transform: translateY(-2px) scale(1.04);
  box-shadow: 0 4px 16px rgba(44, 62, 80, 0.12);
  outline: none;
}

    .question {
      margin: 2rem 0 1rem;
      font-weight: bold;
      font-size: 1.25rem;
    }

  .option {
  display: flex;
  align-items: center;
  margin-bottom: 0.75rem;
  padding: 0.75rem 1rem;
  border-radius: 0.75rem;
  background-color: #f3f4f6;
  cursor: pointer;
  transition: background 0.3s, box-shadow 0.2s;
  box-shadow: 0 1px 4px rgba(44, 62, 80, 0.04);
}
.option:hover, .option:focus-within {
  background-color: #e0e7ff;
  box-shadow: 0 2px 8px rgba(44, 62, 80, 0.10);
}
.correct {
  background-color: #10b981 !important;
  color: white;
}
.wrong {
  background-color: #ef4444 !important;
  color: white;
}
  .feedback {
  margin-top: 1rem;
  font-weight: bold;
  animation: pop 0.4s;
}

    .avatar {
      display: inline-block;
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid var(--accent);
      margin-top: 1rem;
    }

    .hidden {
      display: none;
    }

@keyframes pop {
  0% { transform: scale(0.8); opacity: 0; }
  80% { transform: scale(1.1); opacity: 1; }
  100% { transform: scale(1); }
}
    

    @media (max-width: 600px) {
      .container {
        padding: 1rem;
      }

      button {
        width: 100%;
      }
    }
  </style>
</head>

<body>
  <div class="container" id="intro">
    <h1>Welcome to IQ Booster Quiz</h1>
    <input type="text" id="username" placeholder="Enter your name" />
    <input type="file" id="avatarUpload" accept="image/*" />
    <p id="avatarLoading" class="hidden">Uploading...</p>
    <img id="avatarPreview" class="avatar hidden" alt="Preview" />
    <button onclick="startDashboard()">Continue</button>
  </div>

  <div class="container hidden" id="dashboard">
    <h2>Hello, <span id="displayName"></span>!</h2>
    <img id="userAvatar" class="avatar hidden" alt="User Avatar" />
    <button onclick="startQuiz()">Start Quiz</button>
    <button id="resumeBtn" onclick="resumeQuiz()" class="hidden">Resume Quiz</button>
    <button onclick="toggleSound()" id="soundToggle">Sound: On</button>
  </div>

  <div class="container hidden" id="quiz">
    <div class="question" id="questionText"></div>
    <div id="optionsContainer"></div>
    <button id="submitBtn" onclick="submitAnswer()">Submit</button>
<button id="nextBtn" onclick="nextQuestion()" style="display:none;">Next</button>
<div class="feedback" id="feedback"></div>
    <p id="timer"></p>
  </div>

  <div class="container hidden" id="summary">
    <h2>Quiz Summary</h2>
    <p>Your Score: <span id="scoreDisplay"></span></p>
    <p>Achievements: <span id="achievementsDisplay"></span></p>
    <button onclick="startQuiz()">Restart Quiz</button>
    <button onclick="shareScore()">Share Score</button>
  </div>

  <script>
  const questions = [
        {
        question: "What is the capital of Nepal?",
        options: ["Kathmandu", "Pokhara", "Lalitpur", "Biratnagar"],
        answer: "Kathmandu"
        },
        {
        question: "Which planet is known as the Red Planet?",
        options: ["Earth", "Mars", "Venus", "Jupiter"],
        answer: "Mars"
        },
        {
        question: "Who wrote the national anthem of India?",
        options: ["Bankim Chandra", "Mahatma Gandhi", "Rabindranath Tagore", "Jawaharlal Nehru"],
        answer: "Rabindranath Tagore"
        },
        {
        question: "What is the capital of Australia?",
        options: ["Sydney", "Melbourne", "Canberra", "Perth"],
        answer: "Canberra"
        },
        {
        question: "Which gas do plants absorb from the atmosphere?",
        options: ["Oxygen", "Carbon Dioxide", "Nitrogen", "Hydrogen"],
        answer:"Carbon Dioxide"
        },
        {
        question: " What is the world’s most spoken language by native speakers?",
        options: ["Mandarin Chinese", "Portuguese", "Spanish", "English"],
        answer: "Mandarin Chinese"
        },
        {
        question: "What is the tallest mammal on Earth?",
        options: ["Elephant", "Blue Whale", "Giraffe", "Hippopotamus"],
        answer: "Giraffe"
        },
        {
        question: "What is the hardest mineral?",
        options: ["Gold", "Titanium", "Vibranium", "Diamond"],
        answer:"Diamond"
        },
        {
        question: "Who wrote the famous song Ful Ko Aakha Ma",
        options: ["Narayan Gopal", "Ani Choying Dolma", "Udit Narayan Jha", "Deepa Jha"],
        answer:"Ani Choying Dolma"
        },
        {
        question: "Which is the smallest district of Nepal",
        options: ["Bhadrapur", "Dolpa", "Kathmandu", "Bhaktapur"],
        answer: "Bhaktapur"
        },
        {
        question: "What is the chemical symbol for water?",
        options: ["O2", "CO2", "NaCl", "H2O"],
        answer:"H2O"
        },
        {
        question: "What does 'HTTP' stand for?",
        options: ["HyperText Transfer Protocol", "High text Transmission Protocol", "HyperText Translate Program", "High Transmission Text Protocol"],
        answer: "HyperText Transfer Protocol"
        },
        {
        question: "How many months have 28 days?",
        options: ["1", "12", "10", "11"],
        answer: "12"
        },
        {
        question: "In which year did World War II end?",
        options: ["1945", "1942", "1948", "1950"],
        answer: "1945"
        },
        {
        question: "What planet is closest to the sun?",
        options: ["Earth", "Mars", "Mercury", "Venus"],
        answer: "Mercury"
        },
        {
        question: "How many bones are in the human body?",
        options: ["206", "400", "216", "315"],
        answer: "206"
        },
        {
        question: " Who wrote the book To Kill a Mockingbird?",
        options: ["J.K Rowling", "Harper Lee", "William Shakespeare", "Charles Dickens"],
        answer: "Harper Lee"
        },
        {
        question: "Which is the most populated U.S State?",
        options: ["New York", "Washington", "California", "Texas"],
        answer: "California"
        },
        {
        question: "How many continents are there in the world?",
        options: ["5", "6", "7", "8"],
        answer: "7"
        },
        {
        question: "HTML stands for?",
        options: ["Hyper Trainer Marking Language", "Hyper Text Markup Language", "Hyper Text Marketing Language", "High Text Markup Language"],
        answer: "Hyper Text Markup Language"
        },
        {
        question: "Who wrote 'Muna Madan'?",
        options: ["Laxmi Prasad Devkota", "Bhanubhakta Acharya", "Buddha", "Parijat"],
        answer: "Laxmi Prasad Devkota"
        },
        {
        question: "What is the boiling point of water?",
        options: ["100°C", "90°C", "120°C", "80°C"],
        answer:"100°C"
        },
        {
        question: "What is the largest ocean on Earth?",
        options: ["Atlantic Ocean", "Indian Ocean", "Arctic Ocean", "Pacific Ocean"],
        answer: "Pacific Ocean"
        },
        {
        question: "What is the capital of Japan?",
        options: ["Tokyo", "Kyoto", "Osaka", "Hiroshima"],
        answer: "Tokyo"
        },
        {
        question: "What is the largest planet in our solar system?",
        options: ["Earth", "Mars", "Jupiter", "Saturn"],
        answer: "Jupiter"
        },
        {
        question: "What is the main ingredient in guacamole?",
        options: ["Tomato", "Avocado", "Onion", "Pepper"],
        answer: "Avocado"
        },
        {
        question: "What is the capital of France?",
        options: ["Berlin", "Madrid", "Paris", "Rome"],
        answer: "Paris"
        },
        {
        question: "What is the largest mammal in the world?",
        options: ["Elephant", "Blue Whale", "Giraffe", "Hippopotamus"],
        answer: "Blue Whale"
        },
        {
        question: "What is the chemical symbol for gold?",
        options: ["Au", "Ag", "Pb", "Fe"],
        answer: "Au"
        },

        {
        question: "Which mountain is the highest in the world?",
        options: ["K2", "Kangchenjunga", "Lhotse", "Mount Everest"],
        answer: "Mount Everest"
        },
        {
        question: "Which river flows through Kathmandu?",
        options: ["Koshi", "Bagmati", "Gandaki", "Rapti"],
        answer: "Bagmati"
        },
        {
        question: "What is Nepal’s national flower?",
        options: ["Sunflower", "Lily", "Rhododendron", "Rose"],
        answer: "Rhododendron"
        },
        {
        question: "What is the currency of Nepal?",
        options: ["Nepali Rupee", "Indian Rupee", "Yen", "Dollar"],
        answer: "Nepali Rupee"
        }
        ];


    let currentQuestionIndex = 0;
    let score = 0;
    let timer;
    let timeLeft = 15;
    let quizProgress = [];
    let soundOn = true;
    let achievements = JSON.parse(localStorage.getItem("achievements")) || [];

    const correctSound = document.getElementById("correctSound");
    const wrongSound = document.getElementById("wrongSound");

    function startDashboard() {
  const name = document.getElementById("username").value.trim();
  if (!name) return alert("Please enter your name");
  localStorage.setItem("quizName", name);
  document.getElementById("displayName").innerText = name;
  document.getElementById("intro").classList.add("hidden"); // <-- fix here
  document.getElementById("dashboard").classList.remove("hidden"); // <-- fix here

  const avatar = localStorage.getItem("quizAvatar");
  if (avatar) {
    document.getElementById("userAvatar").src = avatar;
    document.getElementById("userAvatar").classList.remove("hidden");
  }
  document.getElementById("resumeBtn").classList.toggle("hidden", quizProgress.length === 0);
}

    document.getElementById("avatarUpload").addEventListener("change", function (e) {
      const file = e.target.files[0];
      if (!file) return;
      document.getElementById("avatarLoading").style.display = "block";
      const reader = new FileReader();
      reader.onload = function (evt) {
        localStorage.setItem("quizAvatar", evt.target.result);
        document.getElementById("avatarLoading").style.display = "none";
      };
      reader.readAsDataURL(file);
    });
function startQuiz() {
  score = 0;
  currentQuestionIndex = 0;
  quizProgress = [];
  document.getElementById("dashboard").classList.add("hidden");
  document.getElementById("summary").classList.add("hidden");
  document.getElementById("quiz").classList.remove("hidden");
  questions.sort(() => Math.random() - 0.5);
  loadQuestion();
}

function resumeQuiz() {
  document.getElementById("dashboard").classList.add("hidden");
  document.getElementById("quiz").classList.remove("hidden");
  loadQuestion();
}

function showSummary() {
  document.getElementById("quiz").classList.add("hidden");
  document.getElementById("summary").classList.remove("hidden");
  document.getElementById("scoreDisplay").innerText = score;
  document.getElementById("achievementsDisplay").innerText = achievements.join(", ");
  updateAchievements();
}

function goToDashboard() {
  document.getElementById("summary").classList.add("hidden");
  document.getElementById("dashboard").classList.remove("hidden");
}

function loadQuestion() {
  // Remove feedback classes from previous question
  document.querySelectorAll(".option label").forEach(label => {
    label.classList.remove("correct", "wrong");
  });

  const q = questions[currentQuestionIndex];
  document.getElementById("questionText").innerText = q.question;

  const optionsDiv = document.getElementById("optionsContainer");
  optionsDiv.innerHTML = "";

  const shuffled = [...q.options].sort(() => Math.random() - 0.5);
  shuffled.forEach((opt, i) => {
    const id = "opt_" + currentQuestionIndex + "_" + i;
    const wrapper = document.createElement("div");
    wrapper.className = "option";
    wrapper.innerHTML = `
      <input type="radio" name="option" id="${id}" value="${opt}" aria-label="${opt}" />
      <label for="${id}" tabindex="0">${opt}</label>
    `;
    optionsDiv.appendChild(wrapper);
  });

  document.getElementById("submitBtn").disabled = false;
  document.getElementById("nextBtn").style.display = "none";
  document.getElementById("feedback").innerText = "";
  startTimer();
}

function startTimer() {
  timeLeft = 15;
  document.getElementById("timer").innerText = timeLeft; // <-- Fix timer display
  clearInterval(timer);
  timer = setInterval(() => {
    timeLeft--;
    document.getElementById("timer").innerText = timeLeft; // <-- Fix timer display
    if (timeLeft <= 0) {
      clearInterval(timer);
      autoSubmit();
    }
  }, 1000);
}

function autoSubmit() {
  const correctAnswer = questions[currentQuestionIndex].answer;

  // Highlight the correct answer
  document.querySelectorAll("input[name='option']").forEach(input => {
    const label = input.nextElementSibling;
    if (input.value === correctAnswer) label.classList.add("correct");
  });

  document.getElementById("feedback").innerText = "Time's up!";
  if (soundOn && typeof wrongSound !== "undefined") wrongSound.play();

  document.getElementById("submitBtn").disabled = true;
  document.getElementById("nextBtn").style.display = "block";
}


function submitAnswer() {
  clearInterval(timer);
  const selected = document.querySelector("input[name='option']:checked");
  if (!selected) {
    document.getElementById("feedback").innerText = "Please select an answer!";
    return;
  }

  const userAnswer = selected.value;
  const correctAnswer = questions[currentQuestionIndex].answer;

  // Show feedback and highlight correct/wrong
  document.querySelectorAll("input[name='option']").forEach(input => {
    const label = input.nextElementSibling;
    if (input.value === correctAnswer) label.classList.add("correct");
    else if (input.value === userAnswer) label.classList.add("wrong");
  });

  if (userAnswer === correctAnswer) {
    score++;
    document.getElementById("feedback").innerText = "Correct!";
    if (soundOn && typeof correctSound !== "undefined") correctSound.play();
  } else {
    document.getElementById("feedback").innerText = "Wrong!";
    if (soundOn && typeof wrongSound !== "undefined") wrongSound.play();
  }

  document.getElementById("submitBtn").disabled = true;
  document.getElementById("nextBtn").style.display = "block";
}

function nextQuestion() {
  currentQuestionIndex++;
  if (currentQuestionIndex >= questions.length) {
    showSummary();
  } else {
    loadQuestion();
  }
}

function shareScore() {
  const text = `I scored ${score}/${questions.length} in IQ Booster Quiz!`;
  if (navigator.share) {
    navigator.share({ title: "Quiz Score", text });
  } else {
    navigator.clipboard.writeText(text);
    alert("Score copied to clipboard!");
  }
}

    function toggleSound() {
      soundOn = !soundOn;
      document.getElementById("soundToggle").innerText = soundOn ? "🔊" : "🔇";
    }

  function viewAchievements() {
  document.getElementById("achievementModal").style.display = "flex";
  const list = document.getElementById("achievementList");
  list.innerHTML = achievements.map(a => `<li>${a}</li>`).join("");
}

    function closeAchievementModal(event) {
      if (!event || event.target.id === "achievementModal") {
        document.getElementById("achievementModal").style.display = "none";
      }
    }

    function updateAchievements() {
      if (score === questions.length && !achievements.includes("Perfect Score")) {
        achievements.push("Perfect Score");
      }
      if (score >= Math.ceil(questions.length / 2) && !achievements.includes("Halfway There")) {
        achievements.push("Halfway There");
      }
      localStorage.setItem("achievements", JSON.stringify(achievements));
    }
</script>
    <audio id="correctSound" src="https://cdn.pixabay.com/audio/2022/07/26/audio_124bfa4c7b.mp3"></audio>
<audio id="wrongSound" src="https://cdn.pixabay.com/audio/2022/07/26/audio_124bfa4c7b.mp3"></audio>

</body>
</html>